<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>AutoKeras Text Classifier Model — model_text_classifier • autokeras</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="AutoKeras Text Classifier Model — model_text_classifier" />
<meta property="og:description" content="AutoKeras text classification class.
To `fit`, `evaluate` or `predict`, format inputs as:
x : array. The input data should be array. The data should be one
  dimensional. Each element in the data should be a string which is a full
  sentence.
y : array. It can be raw labels, one-hot encoded if more than two classes, or
  binary encoded for binary classification.

" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">autokeras</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/r-tensorflow/autokeras">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>AutoKeras Text Classifier Model</h1>
    <small class="dont-index">Source: <a href='https://github.com/r-tensorflow/autokeras/blob/master/R/model_text_classifier.R'><code>R/model_text_classifier.R</code></a></small>
    <div class="hidden name"><code>model_text_classifier.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>AutoKeras text classification class.
To `fit`, `evaluate` or `predict`, format inputs as:</p><ul>
<li><p>x : array. The input data should be array. The data should be one
  dimensional. Each element in the data should be a string which is a full
  sentence.</p></li>
<li><p>y : array. It can be raw labels, one-hot encoded if more than two classes, or
  binary encoded for binary classification.</p></li>
</ul>

    </div>

    <pre class="usage"><span class='fu'>model_text_classifier</span>(
  <span class='kw'>num_classes</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>multi_label</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>loss</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>metrics</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>name</span> <span class='kw'>=</span> <span class='st'>"text_classifier"</span>,
  <span class='kw'>max_trials</span> <span class='kw'>=</span> <span class='fl'>100</span>,
  <span class='kw'>directory</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>objective</span> <span class='kw'>=</span> <span class='st'>"val_loss"</span>,
  <span class='kw'>overwrite</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>seed</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/Uniform.html'>runif</a></span>(<span class='fl'>1</span>, <span class='fl'>0</span>, <span class='fl'>1e+07</span>)
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>num_classes</th>
      <td><p>: numeric. Defaults to `NULL`. If `NULL`, it will infer
from the data.</p></td>
    </tr>
    <tr>
      <th>multi_label</th>
      <td><p>: logical. Defaults to `FALSE`.</p></td>
    </tr>
    <tr>
      <th>loss</th>
      <td><p>: A Keras loss function. Defaults to use "binary_crossentropy" or
"categorical_crossentropy" based on the number of classes.</p></td>
    </tr>
    <tr>
      <th>metrics</th>
      <td><p>: A list of Keras metrics. Defaults to use "accuracy".</p></td>
    </tr>
    <tr>
      <th>name</th>
      <td><p>: character. The name of the AutoModel. Defaults to
"text_classifier".</p></td>
    </tr>
    <tr>
      <th>max_trials</th>
      <td><p>: numeric. The maximum number of different Keras Models to
try. The search may finish before reaching the `max_trials`. Defaults to
`100`.</p></td>
    </tr>
    <tr>
      <th>directory</th>
      <td><p>: character. The path to a directory for storing the search
outputs. Defaults to `NULL`, which would create a folder with the name of
the AutoModel in the current directory.</p></td>
    </tr>
    <tr>
      <th>objective</th>
      <td><p>: character. Name of model metric to minimize or maximize,
e.g. "val_accuracy". Defaults to "val_loss".</p></td>
    </tr>
    <tr>
      <th>overwrite</th>
      <td><p>: logical. Defaults to `TRUE`. If `FALSE`, reloads an
existing project of the same name if one is found. Otherwise, overwrites
the project.</p></td>
    </tr>
    <tr>
      <th>seed</th>
      <td><p>: numeric. Random seed. Defaults to `runif(1, 0, 10e6)`.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Important: The object returned by this function behaves like an R6 object,
i.e., within function calls with this object as parameter, it is most likely
that the object will be modified. Therefore it is not necessary to assign
the result of the functions to the same object.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='st'>"keras"</span>)

<span class='co'># Get IMDb dataset</span>
<span class='no'>imdb</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/keras/man/dataset_imdb.html'>dataset_imdb</a></span>(<span class='kw'>num_words</span> <span class='kw'>=</span> <span class='fl'>1000</span>)
<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='no'>x_train</span>, <span class='no'>y_train</span>) <span class='kw'>%&lt;-%</span> <span class='no'>imdb</span>$<span class='no'>train</span>
<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='no'>x_test</span>, <span class='no'>y_test</span>) <span class='kw'>%&lt;-%</span> <span class='no'>imdb</span>$<span class='no'>test</span>

<span class='co'># AutoKeras procceses each text data point as a character vector,</span>
<span class='co'># i.e., x_train[[1]] "&lt;START&gt; this film was just brilliant casting..",</span>
<span class='co'># so we need to transform the dataset.</span>
<span class='no'>word_index</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/keras/man/dataset_imdb.html'>dataset_imdb_word_index</a></span>()
<span class='no'>word_index</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(
  <span class='st'>"&lt;PAD&gt;"</span>, <span class='st'>"&lt;START&gt;"</span>, <span class='st'>"&lt;UNK&gt;"</span>, <span class='st'>"&lt;UNUSED&gt;"</span>,
  <span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span>(<span class='no'>word_index</span>)[<span class='fu'><a href='https://rdrr.io/r/base/order.html'>order</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/unlist.html'>unlist</a></span>(<span class='no'>word_index</span>))]
)
<span class='no'>x_train</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>lapply</a></span>(<span class='no'>x_train</span>, <span class='kw'>function</span>(<span class='no'>x</span>) {
  <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span>(<span class='no'>word_index</span>[<span class='no'>x</span> + <span class='fl'>1</span>], <span class='kw'>collapse</span> <span class='kw'>=</span> <span class='st'>" "</span>)
})
<span class='no'>x_test</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>lapply</a></span>(<span class='no'>x_test</span>, <span class='kw'>function</span>(<span class='no'>x</span>) {
  <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span>(<span class='no'>word_index</span>[<span class='no'>x</span> + <span class='fl'>1</span>], <span class='kw'>collapse</span> <span class='kw'>=</span> <span class='st'>" "</span>)
})

<span class='no'>x_train</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/array.html'>array</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/unlist.html'>unlist</a></span>(<span class='no'>x_train</span>))
<span class='no'>x_test</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/array.html'>array</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/unlist.html'>unlist</a></span>(<span class='no'>x_test</span>))
<span class='no'>y_train</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span>(<span class='no'>y_train</span>, <span class='kw'>ncol</span> <span class='kw'>=</span> <span class='fl'>1</span>)
<span class='no'>y_test</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span>(<span class='no'>y_test</span>, <span class='kw'>ncol</span> <span class='kw'>=</span> <span class='fl'>1</span>)

<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='st'>"autokeras"</span>)

<span class='co'># Initialize the text classifier</span>
<span class='no'>clf</span> <span class='kw'>&lt;-</span> <span class='fu'>model_text_classifier</span>(<span class='kw'>max_trials</span> <span class='kw'>=</span> <span class='fl'>10</span>) <span class='kw'>%&gt;%</span> <span class='co'># It tries 10 different models</span>
  <span class='fu'><a href='fit.html'>fit</a></span>(<span class='no'>x_train</span>, <span class='no'>y_train</span>) <span class='co'># Feed the text classifier with training data</span>

<span class='co'># Predict with the best model</span>
(<span class='no'>predicted_y</span> <span class='kw'>&lt;-</span> <span class='no'>clf</span> <span class='kw'>%&gt;%</span> <span class='fu'><a href='predict.html'>predict</a></span>(<span class='no'>x_test</span>))

<span class='co'># Evaluate the best model with testing data</span>
<span class='no'>clf</span> <span class='kw'>%&gt;%</span> <span class='fu'><a href='evaluate.html'>evaluate</a></span>(<span class='no'>x_test</span>, <span class='no'>y_test</span>)

<span class='co'># Get the best trained Keras model, to work with the keras R library</span>
<span class='fu'><a href='export_model.html'>export_model</a></span>(<span class='no'>clf</span>)
}</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Juan Cruz Rodriguez.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


